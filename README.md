# 案例研讨计时器

一个专业的 Electron 桌面应用程序，专为案例研讨和谈心谈话设计的双人计时器系统。

## 📋 项目简介

本应用为案例研讨比赛和谈心谈话场景提供专业的计时功能，支持多窗口显示、音频提醒和精确的时间控制。

## ✨ 主要功能

### 🎯 案例研讨模式

- **双人计时器**：A 选手和 B 选手独立计时系统
- **分阶段计时**：2 分钟提问 + 4 分钟作答
- **多轮次支持**：支持 4 轮完整比赛流程
- **角色切换**：自动识别当前选手的提问/作答角色
- **多窗口显示**：可为每位选手开启独立的计时器窗口

### 💬 谈心谈话模式

- **双阶段计时**：4 分钟谈话 + 2 分钟总结
- **手动阶段切换**：支持灵活的阶段控制
- **独立窗口**：专门的谈心谈话计时器界面

### 🔔 提醒功能

- **30 秒警告**：倒计时 30 秒时黄色警告
- **10 秒危险**：倒计时 10 秒时红色警告
- **音频提醒**：最后 10 秒每秒滴滴声
- **结束提醒**：时间结束时的结束提示音

### 🖥️ 多窗口支持

- **独立窗口**：为每个计时器创建独立窗口
- **自动排列**：支持 A/B 选手窗口自动左右排列
- **菜单快捷键**：丰富的快捷键支持
- **窗口管理**：统一的窗口控制和管理

## 🏗️ 项目结构

```
timer-temp/
├── main.js                 # Electron主进程文件
├── preload.js             # 预加载脚本
├── renderer.js            # 渲染进程通用脚本
├── index.html             # 主界面 - 模式选择器
├── player-a.html          # A选手计时器界面
├── player-b.html          # B选手计时器界面
├── interview.html         # 谈心谈话计时器界面
├── player-timer.js        # 选手计时器核心逻辑
├── interview-timer.js     # 谈心谈话计时器逻辑
├── styles.css             # 计时器通用样式
├── player.css             # 选手界面样式
├── interview.css          # 谈心谈话界面样式
├── mode-selector.css      # 主界面样式
├── package.json           # 项目配置和依赖
├── package-lock.json      # 依赖锁定文件
├── forge.config.js        # Electron Forge配置
├── .gitignore            # Git忽略文件
└── README.md             # 项目说明文档
```

## 🔧 核心代码组成

### 主进程 (main.js)

- **窗口管理**：创建和管理多个计时器窗口
- **菜单系统**：应用程序菜单和快捷键
- **窗口通信**：处理渲染进程与主进程的通信
- **自动排列**：实现 A/B 选手窗口的自动排列功能

### 渲染进程

#### PlayerTimer 类 (player-timer.js)

- **计时逻辑**：核心的倒计时功能
- **角色管理**：处理提问者/作答者角色切换
- **轮次控制**：管理 4 轮比赛流程
- **音频提醒**：Web Audio API 实现的音效
- **界面更新**：实时更新计时器显示

#### InterviewTimer 类 (interview-timer.js)

- **阶段管理**：两阶段计时控制
- **简化界面**：适合谈心谈话场景的界面
- **音频提醒**：同样的音频提醒系统

### 界面样式

- **响应式设计**：适配不同屏幕尺寸
- **视觉反馈**：丰富的颜色和动画效果
- **大字体显示**：便于远距离观看
- **状态指示**：清晰的计时状态显示

## 🚀 使用方法

### 安装依赖

```bash
npm install
```

### 开发运行

```bash
npm start
```

### 构建打包

```bash
npm run make
```

## 🎮 操作指南

### 主界面操作

1. **选择模式**：点击对应的模式卡片进入计时器
2. **开启独立窗口**：点击多窗口控制区域的按钮
3. **同时开启 A/B 窗口**：自动排列两个选手窗口

### 计时器操作

- **开始/暂停**：使用开始和暂停按钮控制计时
- **角色切换**：在提问和作答之间切换
- **下一轮**：进入下一轮比赛
- **重置**：重置到初始状态

### 快捷键

- `Ctrl+1`：开启 A 选手窗口
- `Ctrl+2`：开启 B 选手窗口
- `Ctrl+3`：开启谈心谈话窗口
- `Ctrl+Shift+B`：同时开启 A/B 选手窗口
- `Ctrl+M`：回到主控制台
- `Ctrl+R`：重新加载当前窗口
- `Ctrl+Shift+I`：切换开发者工具

## 🎯 比赛规则

### 案例研讨

1. **A1 问 B1 答**：A 选手提问 2 分钟，B 选手作答 4 分钟
2. **B1 问 A1 答**：B 选手提问 2 分钟，A 选手作答 4 分钟
3. **A2 问 B2 答**：A 选手提问 2 分钟，B 选手作答 4 分钟
4. **B2 问 A2 答**：B 选手提问 2 分钟，A 选手作答 4 分钟

### 谈心谈话

1. **谈话环节**：4 分钟自由谈话
2. **总结环节**：2 分钟总结发言

## 🛠️ 技术栈

- **Electron**：跨平台桌面应用框架
- **HTML5/CSS3**：现代网页技术
- **JavaScript ES6+**：现代 JavaScript 特性
- **Web Audio API**：音频处理
- **Electron Forge**：打包和分发工具

## 📦 依赖说明

### 开发依赖

- `electron`：Electron 框架
- `@electron-forge/cli`：Electron Forge CLI 工具
- `@electron-forge/maker-*`：各平台打包工具

### 运行依赖

- `electron-squirrel-startup`：Windows 启动优化

## 🔒 安全特性

- **内容安全策略**：防止 XSS 攻击
- **上下文隔离**：渲染进程安全隔离
- **预加载脚本**：安全的 API 暴露

## 📄 许可证

ISC License

## 👨‍💻 作者

jwj

---

_这是一个专业的计时器应用，适用于各种需要精确计时的比赛和活动场景。_
